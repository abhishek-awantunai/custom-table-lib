{"version":3,"file":"byheart-table.js","sources":["../../../projects/table/src/lib/table.service.ts","../../../projects/table/src/lib/table.component.html","../../../projects/table/src/lib/table.component.ts","../../../projects/table/src/lib/components/mobile/mobile.component.ts","../../../projects/table/src/lib/components/ladder/ladder.component.ts","../../../projects/table/src/lib/table.module.ts","../../../projects/table/src/public-api.ts","../../../projects/table/src/byheart-table.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class TableService {\n  constructor(private _httpClient: HttpClient) {}\n\n  getTableList(url) {\n    return this._httpClient.get(url + '/comments');\n  }\n}\n","<div class=\"container-fluid table-container\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <table class=\"table\">\n        <thead>\n          <tr>\n            <th *ngFor=\"let header of tableHeaders\" [ngStyle]=\"config?.styleConfig?.theme\">\n              {{ header }}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr *ngFor=\"let item of tableData;\">\n            <td *ngFor=\"let header of tableHeaders\">\n              {{item[header]}}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <ng-container *ngIf=\"tableData?.length > 0\">\n        <div class=\"pagination\" *ngIf=\"showPagination\">\n          <div class=\"container\">\n            <ul>\n              <li [class.disabled]=\"page < 2\" (click)=\"updatePage('prev')\">\n                Previous Page\n              </li>\n              <ng-container *ngFor=\"let pageFlag of paginationArray; let i = index;\">\n                <li [class.active]=\"pageFlag\"\n                  [style.background]=\"pageFlag ? config?.styleConfig?.theme?.background : ''\"\n                  *ngIf=\"i >= (page - 2) && i < (page + 2)\" (click)=\"updatePage(i+1)\">\n                  {{i + 1}}\n                </li>\n              </ng-container>\n              <li [class.disabled]=\"page === (paginationArray?.length)\" (click)=\"updatePage('next')\">\n                Next Page\n              </li>\n            </ul>\n          </div>\n\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</div>","import { Component, OnInit, Input, SimpleChanges } from '@angular/core';\nimport { TableService } from './table.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'custom-table-lib',\n  templateUrl: './table.component.html',\n  styleUrls: ['./table.component.scss'],\n})\nexport class TableComponent implements OnInit {\n  @Input('config') config;\n  dataFromRoute;\n  sharedData;\n  tableData;\n  sub: Subscription;\n  tableHeaders;\n  tableDataCopy;\n\n  constructor(\n    private _tableService: TableService,\n    private activatedRoute: ActivatedRoute\n  ) {}\n\n  ngOnInit(): void {\n    let idx = this.activatedRoute.pathFromRoot.length - 2;\n    console.log(idx);\n    while (this.sharedData == null && idx > 0) {\n      this.sub = this.activatedRoute.pathFromRoot[idx].data.subscribe(\n        (subData) => {\n          this.config = subData;\n          this.getTableData();\n        }\n      );\n      idx--;\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.sub.unsubscribe();\n  }\n\n  currentPage: number = 1;\n  paginationArray: Array<Boolean>;\n  showPagination: Boolean = false;\n  page: number = 1;\n  paginationCount: number;\n  limit: number;\n\n  ngOnChanges(changes: SimpleChanges): void {\n    console.log(changes);\n  }\n\n  createPagination() {\n    this.limit = this.config ? this.config['tableConfig']['limit'] : 10;\n    this.showPagination = this.tableDataCopy.length > this.limit;\n    if (this.showPagination) {\n      const startIndex = (this.page - 1) * this.limit;\n      const endIndex = this.page * this.limit;\n      this.tableData = this.tableDataCopy.slice(startIndex, endIndex);\n      this.paginationCount = Math.floor(this.tableDataCopy.length / this.limit);\n      this.paginationArray = new Array(this.paginationCount).fill(false);\n      this.paginationArray[this.page - 1] = true;\n    }\n  }\n\n  updatePage(page) {\n    if (page === 'prev') {\n      this.page -= 1;\n    } else if (page === 'next') {\n      this.page += 1;\n    } else {\n      this.page = page;\n    }\n    console.log(this.page);\n    this.createPagination();\n  }\n\n  getTableData() {\n    this._tableService.getTableList(this.config['api']).subscribe((res) => {\n      this.tableDataCopy = res;\n      this.tableHeaders = Object.keys(this.tableDataCopy[0]);\n      this.createPagination();\n    });\n  }\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'custom-mobile',\n  template: ` <h1>Mobile component</h1> `,\n  styles: [],\n})\nexport class MobileComponent {}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'custom-ladder',\n  template: ` <h1>Ladder component</h1> `,\n  styles: [],\n})\nexport class LadderComponent {}\n","import { NgModule } from '@angular/core';\nimport { TableComponent } from './table.component';\nimport { TableService } from './table.service';\nimport { HttpClientModule } from '@angular/common/http';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { MobileComponent } from './components/mobile/mobile.component';\nimport { LadderComponent } from './components/ladder/ladder.component';\n\nconst route: Routes = [\n  { path: '', component: TableComponent },\n  { path: 'ladder', component: LadderComponent },\n  { path: 'mobile', component: MobileComponent },\n];\n\n@NgModule({\n  declarations: [TableComponent, LadderComponent, MobileComponent],\n  imports: [HttpClientModule, CommonModule, RouterModule.forChild(route)],\n  providers: [TableService],\n  exports: [TableComponent],\n})\nexport class ByeartTableModule {}\n","/*\n * Public API Surface of table\n */\n\nexport * from './lib/table.service';\nexport * from './lib/table.component';\nexport * from './lib/table.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtextInterpolate1","i0.ɵɵtemplate","i0.ɵɵlistener","i0.ɵɵstyleProp","i0.ɵɵclassProp","i0.ɵɵelementContainerStart","i0.ɵɵelementContainerEnd"],"mappings":"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"}