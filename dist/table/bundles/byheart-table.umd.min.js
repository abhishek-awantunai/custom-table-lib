!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common")):"function"==typeof define&&define.amd?define("@byheart/table",["exports","@angular/core","@angular/common/http","@angular/common"],e):e(((t=t||self).byheart=t.byheart||{},t.byheart.table={}),t.ng.core,t.ng.common.http,t.ng.common)}(this,(function(t,e,n,o){"use strict";var a=function(){function t(t){this._httpClient=t}return t.prototype.getTableList=function(t){return this._httpClient.get(t+"/comments")},t}();function i(t,n){if(1&t&&(e.ɵɵelementStart(0,"th",7),e.ɵɵtext(1),e.ɵɵelementEnd()),2&t){var o=n.$implicit,a=e.ɵɵnextContext();e.ɵɵproperty("ngStyle",null==a.config||null==a.config.styleConfig?null:a.config.styleConfig.theme),e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",o," ")}}function r(t,n){if(1&t&&(e.ɵɵelementStart(0,"td"),e.ɵɵtext(1),e.ɵɵelementEnd()),2&t){var o=n.$implicit,a=e.ɵɵnextContext().$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",a[o]," ")}}function l(t,n){if(1&t&&(e.ɵɵelementStart(0,"tr"),e.ɵɵtemplate(1,r,2,1,"td",5),e.ɵɵelementEnd()),2&t){var o=e.ɵɵnextContext();e.ɵɵadvance(1),e.ɵɵproperty("ngForOf",o.tableHeaders)}}function c(t,n){if(1&t){var o=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"li",11),e.ɵɵlistener("click",(function(){e.ɵɵrestoreView(o);var t=e.ɵɵnextContext().index;return e.ɵɵnextContext(3).updatePage(t+1)})),e.ɵɵtext(1),e.ɵɵelementEnd()}if(2&t){var a=e.ɵɵnextContext(),i=a.$implicit,r=a.index,l=e.ɵɵnextContext(3);e.ɵɵstyleProp("background",i?null==l.config||null==l.config.styleConfig||null==l.config.styleConfig.theme?null:l.config.styleConfig.theme.background:""),e.ɵɵclassProp("active",i),e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",r+1," ")}}function g(t,n){if(1&t&&(e.ɵɵelementContainerStart(0),e.ɵɵtemplate(1,c,2,5,"li",12),e.ɵɵelementContainerEnd()),2&t){var o=n.index,a=e.ɵɵnextContext(3);e.ɵɵadvance(1),e.ɵɵproperty("ngIf",o>=a.page-2&&o<a.page+2)}}function p(t,n){if(1&t){var o=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"div",9),e.ɵɵelementStart(1,"div",10),e.ɵɵelementStart(2,"ul"),e.ɵɵelementStart(3,"li",11),e.ɵɵlistener("click",(function(){return e.ɵɵrestoreView(o),e.ɵɵnextContext(2).updatePage("prev")})),e.ɵɵtext(4," Previous Page "),e.ɵɵelementEnd(),e.ɵɵtemplate(5,g,2,1,"ng-container",5),e.ɵɵelementStart(6,"li",11),e.ɵɵlistener("click",(function(){return e.ɵɵrestoreView(o),e.ɵɵnextContext(2).updatePage("next")})),e.ɵɵtext(7," Next Page "),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd()}if(2&t){var a=e.ɵɵnextContext(2);e.ɵɵadvance(3),e.ɵɵclassProp("disabled",a.page<2),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",a.paginationArray),e.ɵɵadvance(1),e.ɵɵclassProp("disabled",a.page===(null==a.paginationArray?null:a.paginationArray.length))}}function s(t,n){if(1&t&&(e.ɵɵelementContainerStart(0),e.ɵɵtemplate(1,p,8,5,"div",8),e.ɵɵelementContainerEnd()),2&t){var o=e.ɵɵnextContext();e.ɵɵadvance(1),e.ɵɵproperty("ngIf",o.showPagination)}}a.ɵfac=function(t){return new(t||a)(e.ɵɵinject(n.HttpClient))},a.ɵprov=e.ɵɵdefineInjectable({token:a,factory:a.ɵfac,providedIn:"root"});var d=function(){function t(t){this._tableService=t,this.currentPage=1,this.showPagination=!1,this.page=1}return t.prototype.ngOnInit=function(){this.getTableData()},t.prototype.ngOnChanges=function(t){console.log(t)},t.prototype.createPagination=function(){if(this.limit=this.config?this.config.tableConfig.limit:10,this.showPagination=this.tableDataCopy.length>this.limit,this.showPagination){var t=(this.page-1)*this.limit,e=this.page*this.limit;this.tableData=this.tableDataCopy.slice(t,e),this.paginationCount=Math.floor(this.tableDataCopy.length/this.limit),this.paginationArray=new Array(this.paginationCount).fill(!1),this.paginationArray[this.page-1]=!0}},t.prototype.updatePage=function(t){"prev"===t?this.page-=1:"next"===t?this.page+=1:this.page=t,console.log(this.page),this.createPagination()},t.prototype.getTableData=function(){var t=this;this._tableService.getTableList(this.config.api).subscribe((function(e){t.tableDataCopy=e,t.tableHeaders=Object.keys(t.tableDataCopy[0]),t.createPagination()}))},t}();d.ɵfac=function(t){return new(t||d)(e.ɵɵdirectiveInject(a))},d.ɵcmp=e.ɵɵdefineComponent({type:d,selectors:[["custom-table-lib"]],inputs:{config:"config"},features:[e.ɵɵNgOnChangesFeature],decls:10,vars:3,consts:[[1,"container-fluid","table-container"],[1,"row"],[1,"col-sm-12"],[1,"table"],[3,"ngStyle",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngStyle"],["class","pagination",4,"ngIf"],[1,"pagination"],[1,"container"],[3,"click"],[3,"active","background","click",4,"ngIf"]],template:function(t,n){1&t&&(e.ɵɵelementStart(0,"div",0),e.ɵɵelementStart(1,"div",1),e.ɵɵelementStart(2,"div",2),e.ɵɵelementStart(3,"table",3),e.ɵɵelementStart(4,"thead"),e.ɵɵelementStart(5,"tr"),e.ɵɵtemplate(6,i,2,2,"th",4),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(7,"tbody"),e.ɵɵtemplate(8,l,2,1,"tr",5),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵtemplate(9,s,2,1,"ng-container",6),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd()),2&t&&(e.ɵɵadvance(6),e.ɵɵproperty("ngForOf",n.tableHeaders),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",n.tableData),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",(null==n.tableData?null:n.tableData.length)>0))},directives:[o.NgForOf,o.NgIf,o.NgStyle],styles:['@import url("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css");.table-container[_ngcontent-%COMP%]{background:#fff;padding:30px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:0;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0;color:#fff}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0}.pagination[_ngcontent-%COMP%]{margin:15px 0;overflow:hidden;width:100%}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center;width:100%}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{background:#fff;display:inline-block;list-style-type:none;margin:5px auto;padding:0}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:8px 15px}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{border:1px solid #d0d0d0;border-radius:.5rem;border-radius:50%;color:#fff!important;pointer-events:none}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}']});var f=function(){};f.ɵmod=e.ɵɵdefineNgModule({type:f}),f.ɵinj=e.ɵɵdefineInjector({factory:function(t){return new(t||f)},providers:[a],imports:[[n.HttpClientModule,o.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(f,{declarations:[d],imports:[n.HttpClientModule,o.CommonModule],exports:[d]}),t.ByeartTableModule=f,t.TableComponent=d,t.TableService=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=byheart-table.umd.min.js.map