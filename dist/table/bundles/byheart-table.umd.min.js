!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/common")):"function"==typeof define&&define.amd?define("@byheart/table",["exports","@angular/core","@angular/common/http","@angular/common"],e):e(((t=t||self).byheart=t.byheart||{},t.byheart.table={}),t.ng.core,t.ng.common.http,t.ng.common)}(this,(function(t,e,n,a){"use strict";var o=function(){function t(t){this._httpClient=t}return t.prototype.getTableList=function(t){return this._httpClient.get(t+"/comments")},t}();function i(t,n){if(1&t&&(e.ɵɵelementStart(0,"th"),e.ɵɵtext(1),e.ɵɵelementEnd()),2&t){var a=n.$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",a," ")}}function r(t,n){if(1&t&&(e.ɵɵelementStart(0,"td"),e.ɵɵtext(1),e.ɵɵelementEnd()),2&t){var a=n.$implicit,o=e.ɵɵnextContext().$implicit;e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",o[a]," ")}}function l(t,n){if(1&t&&(e.ɵɵelementStart(0,"tr"),e.ɵɵtemplate(1,r,2,1,"td",4),e.ɵɵelementEnd()),2&t){var a=e.ɵɵnextContext();e.ɵɵadvance(1),e.ɵɵproperty("ngForOf",a.tableHeaders)}}function c(t,n){if(1&t){var a=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"li",9),e.ɵɵlistener("click",(function(){e.ɵɵrestoreView(a);var t=e.ɵɵnextContext().index;return e.ɵɵnextContext(3).updatePage(t+1)})),e.ɵɵtext(1),e.ɵɵelementEnd()}if(2&t){var o=e.ɵɵnextContext(),i=o.$implicit,r=o.index;e.ɵɵclassProp("active",i),e.ɵɵadvance(1),e.ɵɵtextInterpolate1(" ",r+1," ")}}function p(t,n){if(1&t&&(e.ɵɵelementContainerStart(0),e.ɵɵtemplate(1,c,2,3,"li",10),e.ɵɵelementContainerEnd()),2&t){var a=n.index,o=e.ɵɵnextContext(3);e.ɵɵadvance(1),e.ɵɵproperty("ngIf",a>=o.page-2&&a<o.page+2)}}function g(t,n){if(1&t){var a=e.ɵɵgetCurrentView();e.ɵɵelementStart(0,"div",7),e.ɵɵelementStart(1,"div",8),e.ɵɵelementStart(2,"ul"),e.ɵɵelementStart(3,"li",9),e.ɵɵlistener("click",(function(){return e.ɵɵrestoreView(a),e.ɵɵnextContext(2).updatePage("prev")})),e.ɵɵtext(4," Previous Page "),e.ɵɵelementEnd(),e.ɵɵtemplate(5,p,2,1,"ng-container",4),e.ɵɵelementStart(6,"li",9),e.ɵɵlistener("click",(function(){return e.ɵɵrestoreView(a),e.ɵɵnextContext(2).updatePage("next")})),e.ɵɵtext(7," Next Page "),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd()}if(2&t){var o=e.ɵɵnextContext(2);e.ɵɵadvance(3),e.ɵɵclassProp("disabled",o.page<2),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",o.paginationArray),e.ɵɵadvance(1),e.ɵɵclassProp("disabled",o.page===(null==o.paginationArray?null:o.paginationArray.length))}}function d(t,n){if(1&t&&(e.ɵɵelementContainerStart(0),e.ɵɵtemplate(1,g,8,5,"div",6),e.ɵɵelementContainerEnd()),2&t){var a=e.ɵɵnextContext();e.ɵɵadvance(1),e.ɵɵproperty("ngIf",a.showPagination)}}o.ɵfac=function(t){return new(t||o)(e.ɵɵinject(n.HttpClient))},o.ɵprov=e.ɵɵdefineInjectable({token:o,factory:o.ɵfac,providedIn:"root"});var s=function(){function t(t){this._tableService=t,this.currentPage=1,this.showPagination=!1,this.page=1}return t.prototype.ngOnInit=function(){this.getTableData()},t.prototype.ngOnChanges=function(t){console.log(t)},t.prototype.createPagination=function(){if(this.limit=this.CONFIG?this.CONFIG.LIMIT:10,this.showPagination=this.tableDataCopy.length>this.limit,this.showPagination){var t=(this.page-1)*this.limit,e=this.page*this.limit;this.tableData=this.tableDataCopy.slice(t,e),this.paginationCount=Math.floor(this.tableDataCopy.length/this.limit),this.paginationArray=new Array(this.paginationCount).fill(!1),this.paginationArray[this.page-1]=!0}},t.prototype.updatePage=function(t){"prev"===t?this.page-=1:"next"===t?this.page+=1:this.page=t,console.log(this.page),this.createPagination()},t.prototype.getTableData=function(){var t=this;this._tableService.getTableList(this.CONFIG.BASE_URL).subscribe((function(e){t.tableDataCopy=e,t.tableHeaders=Object.keys(t.tableDataCopy[0]),t.createPagination()}))},t}();s.ɵfac=function(t){return new(t||s)(e.ɵɵdirectiveInject(o))},s.ɵcmp=e.ɵɵdefineComponent({type:s,selectors:[["custom-table-lib"]],inputs:{CONFIG:"CONFIG"},features:[e.ɵɵNgOnChangesFeature],decls:12,vars:3,consts:[[1,"container-fluid","table-container"],[1,"row"],[1,"col-sm-12"],[1,"table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","pagination",4,"ngIf"],[1,"pagination"],[1,"container"],[3,"click"],[3,"active","click",4,"ngIf"]],template:function(t,n){1&t&&(e.ɵɵelementStart(0,"p"),e.ɵɵtext(1,"A custom angular library for tables"),e.ɵɵelementEnd(),e.ɵɵelementStart(2,"div",0),e.ɵɵelementStart(3,"div",1),e.ɵɵelementStart(4,"div",2),e.ɵɵelementStart(5,"table",3),e.ɵɵelementStart(6,"thead"),e.ɵɵelementStart(7,"tr"),e.ɵɵtemplate(8,i,2,1,"th",4),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementStart(9,"tbody"),e.ɵɵtemplate(10,l,2,1,"tr",4),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵtemplate(11,d,2,1,"ng-container",5),e.ɵɵelementEnd(),e.ɵɵelementEnd(),e.ɵɵelementEnd()),2&t&&(e.ɵɵadvance(8),e.ɵɵproperty("ngForOf",n.tableHeaders),e.ɵɵadvance(2),e.ɵɵproperty("ngForOf",n.tableData),e.ɵɵadvance(1),e.ɵɵproperty("ngIf",(null==n.tableData?null:n.tableData.length)>0))},directives:[a.NgForOf,a.NgIf],styles:['@import url("https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css");.table-container[_ngcontent-%COMP%]{background:#fff;padding:30px}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border:0;border-collapse:collapse}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#3e3c89;border:0;color:#fff}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:0}.pagination[_ngcontent-%COMP%]{margin:15px 0;overflow:hidden;width:100%}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{text-align:center;width:100%}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{background:#fff;display:inline-block;list-style-type:none;margin:5px auto;padding:0}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:8px 15px}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:#3e3c89;border:1px solid #d0d0d0;border-radius:.5rem;border-radius:50%;color:#fff!important;pointer-events:none}.pagination[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}']});var u=function(){};u.ɵmod=e.ɵɵdefineNgModule({type:u}),u.ɵinj=e.ɵɵdefineInjector({factory:function(t){return new(t||u)},providers:[o],imports:[[n.HttpClientModule,a.CommonModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(u,{declarations:[s],imports:[n.HttpClientModule,a.CommonModule],exports:[s]}),t.ByeartTableModule=u,t.TableComponent=s,t.TableService=o,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=byheart-table.umd.min.js.map